# gh-clone-ssh443

Clone GitHub repositories using SSH over HTTPS (port 443). This tiny Bash wrapper converts common GitHub clone URLs into the `ssh://git@ssh.github.com:443/...` form and clones into your current working directory.

Useful when port 22 is blocked by corporate firewalls or restrictive networks.

- Accepts: `git@github.com:owner/repo.git`, `https://github.com/owner/repo(.git)`, and `ssh://git@github.com/owner/repo(.git)`
- Clones via: `ssh://git@ssh.github.com:443/owner/repo(.git)`
- Destination: current working directory

See also: GitHub Docs – “Using SSH over the HTTPS port”.
https://docs.github.com/en/authentication/troubleshooting-ssh/using-ssh-over-the-https-port

---

## Contents

- [Installation](#installation)
- [Usage](#usage)
- [Examples](#examples)
- [Zsh PATH setup](#zsh-path-setup)
- [Requirements](#requirements)
- [Troubleshooting](#troubleshooting)
- [FAQ](#faq)
- [License](#license)

---

## Installation

You can install the script anywhere on your PATH. The examples below use `$HOME/bin`.

1) Download the script (after this repo is created)

```bash
mkdir -p "$HOME/bin"
curl -fsSL "https://raw.githubusercontent.com/johnrellis/github-clone-ssh-over-https/refs/heads/main/ssh-clone" -o "$HOME/bin/ssh-clone"
chmod +x "$HOME/bin/ssh-clone"
```

2) Ensure `$HOME/bin` is on your PATH (see [Zsh PATH setup](#zsh-path-setup))

Once on PATH, you can run the tool as `ssh-clone`.

---

## Usage

```bash
ssh-clone <repo-url>
```

Supported input formats:
- `git@github.com:owner/repo.git`
- `https://github.com/owner/repo(.git)`
- `ssh://git@github.com/owner/repo(.git)`

The script prints the translated 443 URL and performs `git clone` into the current directory.

Show help:
```bash
ssh-clone --help
```

---

## Examples

```bash
# Standard SSH form
ssh-clone git@github.com:johnrellis/secure-api.git

# HTTPS form
ssh-clone https://github.com/johnrellis/secure-api

# SSH URL form
ssh-clone ssh://git@github.com/johnrellis/secure-api.git
```

What the script will use under the hood:
```text
ssh://git@ssh.github.com:443/johnrellis/secure-api.git
```

---

## Zsh PATH setup

If `$HOME/bin` isn’t already on your PATH, add it to your `~/.zshrc`:

```bash
echo 'export PATH="$HOME/bin:$PATH"' >> ~/.zshrc
source ~/.zshrc
```

Now the command should be available as `ssh-clone`.

---

## Requirements

- Git
- Bash (the script uses `#!/usr/bin/env bash`)
- macOS, Linux, or any Unix-like shell environment

Note: The script uses a defensive shell mode: `set -euo pipefail` to fail fast on errors.

---

## Troubleshooting

- Verify SSH over 443 connectivity to GitHub:
  ```bash
  ssh -T -p 443 git@ssh.github.com
  ```
  On first connect, you’ll be asked to trust the host key. Verify the fingerprint against the GitHub docs and accept if it matches.

- Make sure your SSH key is set up for GitHub:
  - Add your public key to your GitHub account.
  - Ensure your SSH agent is running and has your key loaded:
    ```bash
    ssh-add -l            # list loaded keys
    ssh-add ~/.ssh/id_ed25519   # or your key path
    ```

- Private repositories require that your key has access.

- If your network uses a TLS interception proxy, ensure it does not break SSH over 443.

---

## FAQ

- Why not just use the normal `git@github.com:owner/repo.git`?
  - Some networks block outbound SSH (port 22). Using `ssh.github.com:443` tunnels SSH over HTTPS’s standard port.

- Does this change my Git workflow?
  - No. You’ll still use SSH-based remotes; the only difference is the host and port.

- Can I make this the default without a wrapper script?
  - Yes. You can create a host alias in `~/.ssh/config` (e.g., `Host github-443` with `Hostname ssh.github.com` and `Port 443`) and use `git@github-443:owner/repo.git`. This script avoids extra config by translating inputs automatically.

---

## Attribution

Code and Docs generated by github copilot. 

---

## License

This project is licensed under the MIT License — see the `LICENSE` file for details.